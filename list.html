<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no;">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>历年工资列表</title>
  <link rel="stylesheet" href="font/iconfont.css">
  <script src="js/jquery-2.1.4.js"></script>
  <link rel="stylesheet" href="css/home.css">
</head>
<body>
  <div class="list_title">
    <div class="list_con">
      <i class="iconfont icon-chakanlishijilu1"></i>
      <span>了解您历年工资情况</span>
    </div>
  </div>
  <div class="list_box">
    <ul>
      <li>2018年 <img src="image/left.png" alt=""></li>
      <li onclick="window.location.href= 'datails.html';return false">
        <div class="txt_title"><i>2018年08月工资条</i><span>16600</span></div>
        <time>2018.09.01 11:42</time>
      </li>
      <li onclick="window.location.href= 'datails.html';return false">
        <div class="txt_title"><i>2018年07月工资条</i><span>16600</span></div>
        <time>2018.08.01 11:42</time>
      </li>
      <li onclick="window.location.href= 'datails.html';return false">
        <div class="txt_title"><i>2018年06月工资条</i><span>16600</span></div>
        <time>2018.07.01 11:42</time>
      </li>
    </ul>
  </div>
  <script>
     $(function(){
        var open = true;
        var json = {
            year:[2018,2017,2016],
            month:{
              month_name:['01','02','03','04','05','06','07'],
              month_money:[2500,3500,2800,6000,5000,4700,8000],
              month_time:['2018.09.01 11:42','2018.08.01 11:42','2018.07.01 11:42','2018.07.01 11:42','2018.07.01 11:42','2018.07.01 11:42','2018.07.01 11:42']
            }
          }
        $.each(json.year,function(index, el) {
          $('.list_box').append("<ul><li>"+el+"年 <img src='image/left.png' alt=''></li></ul>")
        });
        $.each(json.month.month_name,function(index, el) {
          $('.list_box>ul').append('<li onclick="window.location.href= "+datails.html+";return false"><div class="txt_title"><i>2018年'+el+'月工资条</i><span>'+json.month.month_money[index]+'</span></div><time>'+json.month.month_time[index]+'</time></li>')
        });
        $('.list_box ul:first-child>li:first-child').children('img').addClass('xuanzhuan90');//默认第一个li里面小箭头朝下面
        $('.list_box>ul').each(function(index, el) {
            $(this).children('li').eq(0).click(function(event) {
              if(open == false){//没有打开则打开
                $(this).siblings('li').slideDown(250); //向下展开
                $(this).children('img').addClass('xuanzhuan90');//箭头向下
                open = true;
              } else if(open == true){
                $(this).siblings('li').slideUp(250); //向上隐藏
                $(this).children('img').removeClass('xuanzhuan90').addClass('xuanzhuan0');//箭头向上
                open = false;
              }
          });
        });
      })
  </script>
</body>
</html>
